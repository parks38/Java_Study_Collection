<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"> </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!--
    데이터 형태 : 
    // id = 본인 , parent = 부모, top =최상위 
    {id : 1, parent : 0, top : 1, name: "나라"},
    {id : 2, parent : 1, top : 1, name: "한국"},
    {id : 3, parent : 2, top : 1, name: "서울"},
    {id : 4, parent : 2, top : 1, name: "부산"},
    {id : 5, parent : 1, top : 1, name: "미국"},
    {id : 6, parent : 5, top : 1, name: "워싱턴"},
    {id : 7, parent : 5, top : 1, name: "캘리포니아"},
    {id : 8, parent : 1, top : 0, name: "일본"},

    나라 
        * 한국
            * 서울
            * 부산
        * 미국
            * 워싱턴
            * 캘리포니아
        * 일본

    나라
    ---------
    한국     미국       일본 
    ---    ------    -----
    서울     워싱턴
    부산     캘리

    <ul class = "one>
        <li> menu 1 
            <ul class = "two">
                <li> sub 1
                    <ul class = "three"> 
                        <li> sub1-1

    ** 트리구조 똑같이 하고 다르게만하면 되는거 같은데?? 
-->
</head>

<body>
    <div id="header"></div>
    <!--
        원하는 포맷 : 

    -->
    <script>
        var data = [
            { id: 1, parent: 0, top: 1, name: "나라" },
            { id: 2, parent: 1, top: 1, name: "한국" },
            { id: 3, parent: 2, top: 1, name: "서울" },
            { id: 4, parent: 2, top: 1, name: "부산" },
            { id: 5, parent: 1, top: 1, name: "미국" },
            { id: 6, parent: 5, top: 1, name: "워싱턴" },
            { id: 7, parent: 5, top: 1, name: "캘리포니아" },
            { id: 8, parent: 1, top: 1, name: "일본" }
        ];

        var example =
            [
                { id: "hello", parent: "", "task": "job1" },
                { id: "2", parent: "hello", "task": "job2" },
                { id: "bye", "task": "job3", parent: "" },
                { id: "4", "task": "job4", parent: "bye" },
                { id: "tech", parent: "", "task": "Tech 직군" },
                { id: "front", parent: "", "task": "Front-end" },
                { id: "back", parent: "", "task": "Back-end" }
            ];


        //$('#header').html(example);

        /**
         * Each - array 나 특정 object/선택자 검사/관리하는 함수 
         * 콜백 함수 : index(순번), item(데이터)
         * 
         * 배열 
         * $.each(배열객체, function(index, item)){
            //하고 싶은 내용
            });
         * 선택자 
         $("선택자").each(function(index, item)){
            //하고 싶은 내용
            }); 

        //append
        $("ul").append("<li>new menu</li>");
        
        //appendTo
        $("<li>new menu</li>").appendTo("ul"); 
        **/

        $(document).ready(function () {
            const $ul = $('<ul>').addClass('category-0').appendTo('#header');

            $.each(data, function (index, item) {
                // if (item.parent === 0) {
                //     $('<li>' + item.name + '</li>').appendTo('ul.category-0');
                //     $('<ul>').appendTo('ul.category-0').addClass('category-' + item.id);

                // } else if (item.parent === 1) {
                //     const country = '<li>' + item.name + '</li>';
                //     $(country).appendTo('ul.category-' + item.parent);
                //     $('<ul>').appendTo('ul.category-' + item.parent).addClass('category-' + item.id);
                // } else {
                //     const city = '<li>' + item.name + '</li>';
                //     $(city).appendTo('ul.category-' + item.parent);
                // }

                /**
                 *    === : 형변환하지 않고 타입 까지도 같은지 확인 
                 *     == : 형변환 하여 비교
                 * */
                if ($('ul').hasClass('category-' + item.parent) === false) {
                    $('li.category-' + item.parent).after('<ul class = "category-' + item.parent + '">');
                }

                const $liList = '<li>' + item.name + '</li>'
                $($liList).appendTo('ul.category-' + item.parent).addClass('category-' + item.id);
            });
        })
        // semilcolon 함수 끝에는 붙이지 말자

    </script>
    <!--
    <ul>
        <li> 나라 </li>
        <ul class=".category-1">
            <li> 한국 </li>
                <ul class = ".category-2">
                    <li> 서울 </li>
                    <li> 부산 </li>
                </ul>
            <li> 미국 </li>
                <ul class = ".category-5">
                    <li> 워싱턴 </li>
                    <li> 캘리포니아 </li>
                </ul>
            <li> 일본 </li>
        </ul>
    </ul> 
    
    ul - parent.id 
    조건 li.parent = ul.id 
    li - id.name 
-->
</body>

</html>